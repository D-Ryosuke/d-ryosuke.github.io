<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project.D</title>
    <link rel="icon" type="image/x-icon" href="/favicon.png">
    <style>
@font-face {
  font-family: "libre barcode 39";
  src: url("fonts/Libre.ttf");
}
@font-face {
  font-family: "silkscreen";
  src: url("fonts/Silkscreen.ttf");
}@font-face {
  font-family: "goldman";
  src: url("fonts/Goldman.ttf");
}
        
        
        
     








:root{
  --mback: #1c261c;
  --hback: #1f8200;
  

  --hfont: #e1e1e1;
  --mfont: #6e7a6e;
  --full: linear-gradient(var(--mfont) 90%,var(--mback)10%);
  --line: linear-gradient(var(--mback) 90%,var(--mfont)10%);
  --none: linear-gradient(var(--mback) 100%,var(--mfont)0%);

}
@keyframes flicker {
  0%{background-image: none;background-color: black;}
  5%{background-image: var(--line);background-color: var(--mback);}
  10%{background-image: var(--none);}
  15%{background-image: var(--line);}  
  20%{background-image: var(--none);}

  37%{background-image: var(--full);}
  45%{background-image: var(--none);}
  65%{background-image: var(--full);}
  82%{background-image: var(--line);}
  97%{background-image: var(--none);}
  100%{background-image: var(--none);}
}
body{
  font-family: monospace;
  background-image: linear-gradient(var(--mback) 90%,var(--mfont)10%);
  background-color: var(--mback);
  background-repeat: repeat;
  background-size: 100vmax 1vmax;
  animation-name: flicker;
  animation-delay: 1s;
  animation-fill-mode: backwards;
  animation-duration: 3s;
  animation-timing-function:steps(1);
}
.drg {
  position: absolute;
  background-color: var(--mback);
  color: var(--mfont);
  border: 1.5vw gray groove;
  text-align: left;
  width: 80vw;
  height: fit-content;
  max-width: 700px;
  box-shadow: 10px 10px 8px var(--mback);
  padding-bottom: 20px;
  display: none;
}
.drg p{
  padding: 1px 5px;
  margin-top: 2px;
  margin-bottom: 2px;
}
#welcome{
  left: 1vw;

}
#info1{
  left: 23vw;
  top:17vh;
}
#rules1{
  top:23vh;
  left: -0.5vw;
}
#people{
  top:39vh;
  right:3vw;
  width: 50vw;
}
#tips{
  top: 70vh;
  left: 7vw;
}
#tlkio{
  top:75vh ;
  left:4vw;
}

.head {
  text-align: left;
  font-family: silkscreen;
  font-size: 5vw;
  padding: 1vw;
  cursor: move;
  z-index: 10;
  background-color: var(--hback);
  color: var(--hfont);
  border-bottom: gray groove 1vw;
}
#banner{
  font-size:14vw;
  /* width: 14vw; */
  font-family:goldman;
  color: antiquewhite;
  padding: 2vw;
  margin-bottom: 0;
  padding-bottom: 0;

}

.drg::after{
  position: absolute;
  height: 12px;
  width: fit-content;
  font-size: 20px;
  background-color: var(--mback);
  content: "1f820";
  font-family: "libre barcode 39";
  color: var(--mfont);
  bottom: 0;
  right: 0;
}

#tlkform,#tlkform::placeholder,#tlkform:focus,#tlkform:hover,#tlkform:focus-visible{
  border-radius: 0;
  border:1px gray;
  background-color: var(--mback);
  color: var(--mfont);
  box-sizing: border-box;
  /* width: 20%; */
  font-family: monospace;
  padding: 5px;
  padding-left: 1px;
  padding-top: 1px;
  outline: none;
  margin: 0px;
  text-overflow:ellipsis;

}
        #tlkform:focus::placeholder{color:transparent}
#inputdiv{
  display: none;
}

/* Remove default bullets */



.caret {
  cursor: pointer;
  font-weight: bolder;
  font-size: 0.9em;
  font-family: silkscreen;
  user-select: none; /* Prevent text selection */
}

.caret::before {
  content: "[+]\00A0";
  font-size: 1em;
  color: var(--mfont);
  font-family:'Courier New', monospace;
  display: inline-block;
  /* margin-right: 6px; */
}

.caret-down::before {
  content: "[-]\00A0";
}
#tips li{
  margin-left: 40px;
  font-size: 1.2em;
}
#tips ul{
  padding: 0;
  margin-left: 10px;
}

.nested {
  display: none;
}

.active {
  display: block;
}

#tlki{
  top: 50vh;
  width: 40vw;
  height: fit-content;
}
a{
  color: var(--mfont);
  padding: 5px;
}

@media screen and (min-width: 900px) {
  .head {
     font-size: 30px;
  }
  .drg{
     border: 10px gray groove;

  }
  #banner {
     font-size: 130px;
  }
  #welcome{
    left: 15vw;
  }
  #info1{
    left: auto;
    right: 8vw;
    top: 4vh;
    font-size: 1.5em;
    width: 400px;
  }
  #info1 p{
    padding: 13px;
  }
  #rules1{
    width: 500px;
    font-size: 1.2em;
  }
  #people{
    width: 200px;
    left: 70vw;
    font-size: 1.3em;
  }

}
    </style>
</head>
<body>
  <!-- Rules window -->
    <div id="rules1" class="drg">
      <div id="rules1head" class="head">Rules (subject to change)</div>
      <p>Project.D is recruiting. Current Requirements to join:<br>&nbsp;GL >= 5<br>&nbsp;Rep. >= 10</p>
      <p>Longtime team members will be asked to place the team shorthand in their username:<br>&nbsp;"Nakazato" becomes "D|Nakazato"</p>
      <p>Activity is a must. Members with no or little activity will be kicked for the opportunity of gaining more active players.</p>
    </div>
  <!-- Chat window -->

  <div id="tlki" class="drg" data-channel="asphalt-d" data-nickname="nick" data-custom-css="https://d-ryosuke.github.io/body.css" style="">  
    <div id="tlkihead" class="head">project.d chat</div>
    <p>&gt;&gt;Accessing Chat!... </p>
    <a id="tlklink" href="" target="_blank">https://embed.tlk.io/asphalt-d</a>
    <div id="inputdiv">
      <p>&gt;&gt;parseErrorFailed: Function "chat_access()" Failed (ln.265)</p>
      <p>&gt;&gt;consoleOutput: Initializing function "chat_access()"...</p>
      <input id="tlkform" type="text" placeholder="&gt;&gt;consoleInput:enter_username?:click()" size="39"></input>
    </div>

  </div>
  <!-- Members Window -->
    <div id="people" class="drg">
      <div id="peoplehead" class="head">Top Members</div>
      <p>Updated 07/09/22</p>
      <dl style="margin-left: 10px;">

          <dt>D|Ryosuke</dt><dd>GL 12, Lvl 59</dd>
          <dt>Kacaraar21</dt><dd>GL 15, Lvl 84</dd>
          <dt>Mr.Clean_18</dt><dd>GL 8, Lvl 18</dd>
          <dt>Onbra</dt><dd>GL 9, Lvl 15</dd>
          <dt>Driver 4683</dt><dd>GL 8, Lvl 19</dd>



      </dl>
      <p>There are two seats open right now, so join today for your chance to be in the top 5!</p>
      </div>


  <!-- Collapsible Tips Menu -->
  <!-- <div id="tips" class="drg">
    <div id="tipshead" class="head">Driving Tips</div>

      <ul class="myUL">
        <ul><span class="caret">Speed</span>
          <li class="nested">This is a long paragraph about random content that should be long enough to wrap around the line border,
            <!-- and, in doing so, provide a test as to how well this system works</li>
          <li class="nested">alksdjfhakjs</li>
          
          </ul> 
        <ul><span class="caret">Nitro</span>
          <li class="nested">Water</li></ul>  -->
      <!-- </ul> -->


  </div>
  <!-- Welcome window with header, main logo, and ID -->
    <div id="welcome" class="drg" >
        <div id="welcomehead" class="head">Welcome to Project.D</div>
        <div id="banner">Project<span style="color: lightcoral;">.</span><span style="color: red;">D</span></div>
        <p style="padding-top: 0;margin-top: 0;margin-bottom: 10px;">Skilled Drivers Only.</p>
        <p style="position: absolute;bottom: 0px;">#1f820 &lt;&lt;OPEN&gt;&gt;</p>
      </div>
  <!-- Bio pic of the club -->
      <div id="info1" class="drg">
      <div id="info1head" class="head">What is Project.D?</div>
      <p>Project.D is an upstart, Initial-D-inspired team on iOS and MacOS intent on bringing glory to its members and gaining recognition for the team.</p>
      </div>

</body>
<script>




setTimeout(loadWindows, 5000);

function loadWindows(){
i=0
array = document.getElementsByClassName("drg");
console.log(array);
i = 0
yvar = setInterval(loadIn,200);
      function loadIn (){
        if (i == array.length-1){clearInterval(yvar)}
        console.log(array, array[i]);
        array[i].style.display="block";
        dragElement(document.getElementById(array[i].id));
        i+=1
      }
  }

// Make the DIV elements draggable:



function dragElement(elmnt) {
  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  if (document.getElementById(elmnt.id + "head")) {
    // if present, the header is where you move the DIV from:
    document.getElementById(elmnt.id + "head").addEventListener("mousedown", dragMouseDown, false);
    document.getElementById(elmnt.id + "head").addEventListener("touchstart", dragMouseDown, false);

  } 

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    // get the mouse cursor position at startup:
    pos3 = e.clientX || e.targetTouches[0].pageX;
    pos4 = e.clientY || e.targetTouches[0].pageY;
    elmnt.style.zIndex = 10;
    document.addEventListener("mouseup", closeDragElement, false);
    document.addEventListener("touchend", closeDragElement, false);
    
    // call a function whenever the cursor moves:
    document.addEventListener("mousemove",elementDrag,{passive:false});
    document.addEventListener("touchmove",elementDrag,{passive:false});
  }
  function elementDrag(e) {

    e = e || window.event;
    e.preventDefault();
    // calculate the new cursor position:
    pos1 = pos3 - e.clientX || pos3 - e.targetTouches[0].pageX;
    pos2 = pos4 - e.clientY || pos4 - e.targetTouches[0].pageY;
    pos3 = e.clientX || e.targetTouches[0].pageX;
    pos4 = e.clientY || e.targetTouches[0].pageY;
    // set the element's new position:
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }

  function closeDragElement() {
    // stop moving when mouse button is released:
    document.removeEventListener("mousemove",elementDrag);
    document.removeEventListener("touchmove",elementDrag);
    elmnt.style.zIndex -= 1;

  }
}


var toggler = document.getElementsByClassName("caret");
var i;

for (i = 0; i < toggler.length; i++) {
  toggler[i].addEventListener("click", function() {
    this.parentElement.querySelector(".nested").classList.toggle("active");
    this.classList.toggle("caret-down");
  });
}


</script>
<script type="text/javascript">

var doc=document;
if (typeof(sessionStorage.getItem("username"))!="string"){
  console.log("bing bong no var");
  var fo = doc.getElementById("inputdiv");
  var inp = doc.getElementById("tlkform");
  doc.getElementById("tlklink").style.display="none";
  fo.style.display="block";
  inp.addEventListener("keypress", function(event) {
  // If the user presses the "Enter" key on the keyboard
  if (event.key === "Enter") {
    // Cancel the default action, if needed
    event.preventDefault();
    // Trigger the button element with a click
    sessionStorage.setItem("username",fo.value);
    doc.getElementById("tlklink").style.display="block";
    fo.style.display="none";
    console.log(sessionStorage.getItem("username"))
    var nick = sessionStorage.getItem("username")
    document.getElementById("tlklink").setAttribute("href","https://embed.tlk.io/asphalt-d?custom_css_path=https://d-ryosuke.github.io/body.css&nickname="+nick)
  }
});
}

!function(t,e){
  var i=function(){
    var t=e.getElementById("tlkio"),
    i=t.getAttribute("data-env")||"production",
    n=t.getAttribute("data-channel"),
    a=t.getAttribute("data-theme"),
    o=t.getAttribute("data-custom-css"),
    s=t.getAttribute("data-nickname"),
    l=e.createElement("iframe"),
    r="https://embed.tlk.io/"+n,
    m=[];

    "dev"==i&&(r="http://embed.lvh.me:3000/"+n),
    o&&o.length&&m.push("custom_css_path="+o),
    s&&s.length&&m.push("nickname="+s),
    a&&a.length&&m.push("theme="+a),
    m.length&&(r+="?"+m.join("&")),
    l.setAttribute("src",r),
    l.setAttribute("width","100%"),
    l.setAttribute("height","100%"),
    l.setAttribute("frameborder","0"),
    l.setAttribute("style","margin-bottom: -8px;");

    hd = e.createElement("div")
    hd.setAttribute("id","tlkiohead")
    hd.setAttribute("class","head")
    hd.textContent="asphalt-d"


    var u=t.getAttribute("style");

    t.setAttribute("style"," "+u),
    t.textContent="",
    t.appendChild(hd),
    t.appendChild(l)
  },

    n=function(){
      var n=e.getElementById("tlkio"),
      a=e.createElement("style"),
      o=e.createElement("img");
    
      a.textContent=".tlkio-pulse{width:70px;margin:-27px 0 0 -35px;position:absolute;top:50%;left:50%;animation: tlkio-pulse 1.5s ease-in 0s infinite;}@keyframes tlkio-pulse{0%{transform:scale(1)}10%{transform:scale(1.15)}18%{transform:scale(0.95)}24%{transform:scale(1)}}",
      
      o.src="https://tlk.io/images/logo.png",
      
      o.className="tlkio-pulse",
      "static"==t.getComputedStyle(n).position&&(n.style.position="relative"),
      // n.appendChild(a),
      // n.appendChild(o),
      t.setTimeout(i,3e3)};
    t.addEventListener?t.addEventListener("load",n,!1):t.attachEvent("onload",n)
    }
  (window,document);
</script>

</html>
